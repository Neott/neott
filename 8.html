<!DOCTYPE HTML>
<html>
<head>
    <meta charset="utf-8">
    <title>Hexo的备份和恢复 | 乱码周刊</title>
    <link rel="shortcut icon" href="/favicon.ico" type="image/x-icon" />
    <link rel="stylesheet" href="/style.css" media="screen" type="text/css">
</head>
<body>
<div id="world" class="drop-shadow">
    <div id="topbar"><div class="home"><a href="/">亂碼週刊</a></div>
<div class="topr"><a href="/">首页</a></li><a href="/mark/">标记</a></li><a href="/about/">关于</a></li></div></div>
    <div id="content">

    <div class="menu  button">
        <a href="/">网站首页</a>
        <span class="arrow">&rsaquo;</span>
        
    
    <a href="/categories/code/">代码笔记</a>

        
    <span class="arrow">&rsaquo;</span>
    
    <a href="/tags/Hexo/">Hexo</a>

    </div>
    
    
          <h1>Hexo的备份和恢复</h1>
    

    <div class="post">
        <p>在2015年的第一天，我寻思给电脑也清理一下过个元旦吧，然后就手欠把主板CPU针脚干断两根，推到一片，主板送修后把硬盘接到了家用的另外一台电脑，恰遇如何备份和恢复Hexo的问题，这里便记录一下这个情况，高手可以直接无视。</p>
<h3 id="备份Hexo的两种方式">备份Hexo的两种方式</h3>
<p>第一种方式比较简单，直接把Hexo的文件夹放进Dropbox或其他同步盘里，在重装系统或另外一台电脑同步下来就行了。</p>
<p>第二种方式是备份到Github，这就需要费点周折了，不过这也是学习Git命令的好机会。首先需要在GitHub建立一个新的仓库，如Hexo。在本地的Hexo文件夹里执行Git命令：</p>
<figure class="highlight"><pre><div class="line">$ git init <span class="comment"> //初始化仓库</span></div><div class="line">$ git remote <span class="built_in">add</span> origin <span class="keyword">https</span>://github.com/jack/hexo.git <span class="comment"> //关联远程仓库</span></div><div class="line">$ git <span class="built_in">add</span> . <span class="comment"> //添加所有文件到缓存</span></div><div class="line">$ git commit -m <span class="string">"add all file"</span><span class="comment"> //提交"说明"</span></div><div class="line">$ git push -u origin master <span class="comment"> //第一次推送到远端仓库</span></div></pre></figure>

<p>这是第一次备份整个Hexo文件夹到GitHub的命令集合（根目录下有个.gitignore文件，里面每行的文件或文件夹都是不会提交到Git的，这里推荐把node_modules文件夹去掉，这里是Hexo的依赖库），由于我们经常写文章，同样需要把新写的文章备份进去，当然，还有Hexo的主题改动。以后有改动或更新再次备份的时候，就会简单一些:</p>
<figure class="highlight"><pre><div class="line"><span class="variable">$ </span>git add .</div><div class="line"><span class="variable">$ </span>git commit -m <span class="string">"add new post"</span></div><div class="line"><span class="variable">$ </span>git push origin master	/<span class="regexp">/第一次后每次推送修改到远端仓库master分支</span></div></pre></figure>

<p>到这里，整个Hexo算是备份到GitHub了，一般只是用来添加新文章和文章改动，如果需要更多的功能，建议查阅一下这两个Git文档:<a href="http://gitref.org/zh/index.html" target="_blank" rel="external">Git 参考手册</a>和<a href="http://www.liaoxuefeng.com/wiki/0013739516305929606dd18361248578c67b8067c8c017b000" target="_blank" rel="external">廖雪峰的Git教程</a>。</p>
<h3 id="恢复Hexo">恢复Hexo</h3>
<p>第一种备份方式直接同步下来就可以了，而第二种则需要先安装必要的环境<a href="http://msysgit.github.io/" target="_blank" rel="external">Git</a>和<a href="http://nodejs.org/" target="_blank" rel="external">Node.js</a>和SSH Key，参见前一篇小文<a href="/7.html">快速开始Hexo的正确姿势</a>，顺便先设置用户信息、安装Hexo：</p>
<figure class="highlight"><pre><div class="line">$ git config --<span class="keyword">global</span> user.name <span class="string">"jack"</span><span class="comment">//用户名</span></div><div class="line">$ git config --<span class="keyword">global</span> user.email  <span class="string">"jack@gmail.com"</span><span class="comment">//你的邮箱</span></div><div class="line">$ npm install -g hexo</div></pre></figure>

<p>然后只需一条命令即可从GitHub克隆回来：</p>
<figure class="highlight"><pre><div class="line">$ git clone http<span class="variable">s:</span>//github.<span class="keyword">com</span>/jack/hexo.git</div></pre></figure>

<p>这时候你的Hexo已经满血复活了，又可以快乐的Hexo了。</p>

    </div>
    <div class="date">2015-01-03</div>
</div>
    <div id="foot">&copy; 2014 Naog
 · <a href="http://hexo.io/" target="_blank">Hexo</a>
 · <a href="https://github.com/" target="_blank">GitHub</a>
 · <a href="https://gitcafe.com/" target="_blank">GitCafe</a></div>
</div>
    <div id="backtop"><a href="javascript:scroll(0,0)">回 到<br>顶 部</a></div>
</body>
</html>